<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css">
    <link rel="shortcut icon" href="img/shortcut_icon.png" type="image/x-icon">
    <link rel="stylesheet" type="text/css" href="comment.css">
    <link rel="stylesheet" href="minigame.css">
</head>
<body>

<div class="container-fluid position-absolute portrait-nav">
    <nav class="navbar navbar-expand-lg fixed-top">
        <div class="container">
            <a class="navbar-brand" href="#"><img src="img/logo_big.svg"></a>
            <ul class="navbar-nav mr-auto">
                <li class="nav-item pr-4">
                    <a class="nav-link" href="#">最新活動</a>
                </li>
                <li class="nav-item pr-4">
                    <a class="nav-link" href="#">我要組電腦</a>
                </li>
                <li class="nav-item pr-4">
                    <a class="nav-link" href="#">我要買零件</a>
                </li>
                <li class="nav-item pr-4">
                    <a class="nav-link" href="#">用戶評論區</a>
                </li>
                <li class="nav-item pr-4">
                    <a class="nav-link" href="#">科普小遊戲</a>
                </li>
            </ul>
            <button type="login" class="login"><img src="img/member.svg"></button>
            <button type="cart" class="cart"><img src="img/shopping-cart.svg"></button>
            <!-- toggle-switch start -->
            <div class="toggle-switch d-flex ml-3">
                <label class="switch">
                    <input type="checkbox">
                    <span class="slider round"></span>
                </label>
            </div>
            <!-- toggle-switch end -->
        </div>
    </nav>
</div>
<div class="container-fluid victory">
    <img class="victory_bg" src="images/victory_bg.svg" alt="">
    <img class="present" src="images/present.jpg" alt="">
</div>
<div class="container position-relative minigame">
    <img class="img-fluid notselect position-absolute t0l0 mb" src="images/modelkit_motherboard.svg" alt="">
    <img class="img-fluid notselect position-absolute t0l0 part1 modelkit_CPU" src="images/modelkit_CPU.svg" alt="">
    <img class="img-fluid notselect position-absolute t0l0 part1 modelkit_RAM2" src="images/modelkit_RAM2.svg"
         alt="">
    <img class="img-fluid notselect position-absolute t0l0 part1 modelkit_RAM1" src="images/modelkit_RAM1.svg"
         alt="">
    <img class="img-fluid notselect position-absolute t0l0 part1 modelkit_CPUFAN" src="images/modelkit_CPUFAN.svg"
         alt="">
    <img class="img-fluid notselect position-absolute t0l0 part1 modelkit_Graphic_Card"
         src="images/modelkit_Graphic_Card.svg" alt="">
    <div class="container">
        <img class="img-fluid notselect position-absolute case case_bg" src="images/CASE_background.svg" alt="">
        <img class="img-fluid notselect position-absolute case CASE_HDD" src="images/CASE_HDD.svg" alt="">
        <img class="img-fluid notselect position-absolute case case_bg" src="images/CASE_clip.svg" alt="">
        <img class="img-fluid notselect position-absolute case case_POWER" src="images/CASE_power.svg" alt="">
        <img class="img-fluid notselect position-absolute case case_bg" src="images/CASE_front.svg" alt="">
    </div>
    <!--drag-->
    <img id="drag_Graphic_Card" class="img-fluid position-absolute t0l0 cursorgrab"
         src="images/Drag_Graphic_Card.svg"
         alt="">
    <img id="drag_CPU" class="img-fluid position-absolute t0l0 cursorgrab" src="images/drag_CPU.svg" alt="">
    <img id="drag_RAM1" class="img-fluid position-absolute t0l0 cursorgrab" src="images/drag_RAM1.svg" alt="">
    <img id="drag_RAM2" class="img-fluid position-absolute t0l0 cursorgrab" src="images/drag_RAM2.svg" alt="">
    <img id="drag_CPUFAN" class="img-fluid position-absolute t0l0 cursorgrab" src="images/drag_CPUFAN.svg" alt="">
    <img id="drag_case_fan" class="img-fluid position-absolute t0l0 cursorgrab part1" src="images/drag_case_fan.svg"
         alt="">
    <!--drop-->
    <div id="drop_CPU" class="position-absolute"></div>
    <div id="drop_CPUFAN" class="position-absolute"></div>
    <div id="drop_RAM1" class="position-absolute"></div>
    <div id="drop_RAM2" class="position-absolute"></div>
    <div id="drop_Graphic_Card" class="position-absolute"></div>
    <canvas id="live2d" class="position-absolute live2d" width="400" height="450"></canvas>
    <div class="nextStep position-absolute case_bg">開始</div>
    <div class="message" style="opacity:0"></div>
</div>
<div class="container-fluid black">
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-12 col-sm-4">
                    <img src="img/logo_big.svg" class="f-logo">
                </div>
                <div class="col-12 col-sm-8">
                    <nav class="nav">
                        <ul class="nav justify-content-center">
                            <li class="nav-item"><a class="nav-link f-title" href="#">顧客服務</a>
                                <ul>
                                    <li><a class="nav-link" href="#">配件/軟體加購</a></li>
                                    <li><a class="nav-link" href="#">保固方式</a></li>
                                    <li><a class="nav-link" href="#">送貨資訊</a></li>
                                    <li><a class="nav-link" href="#">退換貨方式</a></li>
                                </ul>
                            </li>
                            <li class="nav-item"><a class="nav-link f-title" href="#">支援服務</a>
                                <ul>
                                    <li><a class="nav-link" href="#">網站導覽</a></li>
                                    <li><a class="nav-link" href="#">聯絡我們</a></li>
                                    <li><a class="nav-link" href="#">線上客服</a></li>
                                    <li><a class="nav-link" href="#">隱私權條款</a></li>
                                </ul>
                            </li>
                            <li class="nav-item"><a class="nav-link f-title" href="#">關於我們</a>
                                <ul>
                                    <li><a class="nav-link" href="#">關於酷客</a></li>
                                    <li><a class="nav-link" href="#">最新活動</a></li>
                                    <li><a class="nav-link" href="#">我要組電腦</a></li>
                                    <li><a class="nav-link" href="#">我要買零件</a></li>
                                </ul>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>
        </div>
        <p class="py-3">Copyright © 2018 PC COOKER All rights reserved.</p>
    </footer>
</div>
<script src="https://code.jquery.com/jquery-3.3.1.min.js" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<script>
    var cpuPlaced = false;
    var cpuFanPlaced = false;
    var ram1Placed = false;
    var ram2Placed = false;
    var gpuPlaced = false;
    var stepCount = 0;
    $('.nextStep').click(function () {
        if (cpuPlaced == true && cpuFanPlaced == true && ram1Placed == true && ram2Placed == true && gpuPlaced == true && stepCount == 0) {
            $(".CASE_HDD").css('opacity', 1).css('transform', 'translateY(0)');
            $('.part1').css("height", 0);
            $('.mb').css('opacity', 0);
            $('.case_bg').css('opacity', 1);
            stepCount = stepCount + 1;
        } else if (cpuPlaced == true && cpuFanPlaced == true && ram1Placed == true && ram2Placed == true && gpuPlaced == true && stepCount == 1) {
            $(".case_POWER").css('opacity', 1).css('transform', 'translateY(0)');
            $('.nextStep').text('完成');
            stepCount = stepCount + 1;
        } else if (cpuPlaced == true && cpuFanPlaced == true && ram1Placed == true && ram2Placed == true && gpuPlaced == true && stepCount == 2) {
            $('.victory').css('transform', 'scale(1)');
            $('.case').css('opacity', 0);
            $('.message').text('恭喜獲得 : 魔物獵人 世界 遊戲序號抽獎卷一張').css('opacity', 1);
            $('.nextStep').text('領取序號&前往選購');
            $('.minigame').append('<div class="position-absolute case_bg resetgame">重玩</div>');
            $('.resetgame').click(function () {
                location.href = location.href
            });
        } else if (cpuPlaced == true && cpuFanPlaced == true && ram1Placed == true && ram2Placed == true && gpuPlaced == true) {
            $('.part1').css("height", 0);
            $('.mb').css('opacity', 0);
            $('.case_bg').css('opacity', 1);
        } else if (cpuPlaced == true && cpuFanPlaced == true && ram1Placed == true && ram2Placed == true) {
            $(".modelkit_Graphic_Card").css("height", "auto").css('transform', 'translateY(0)');
            $("#drag_Graphic_Card").css("height", 0);
            $('.nextStep').text('下一步');
            gpuPlaced = true;
        } else if (cpuPlaced == true && cpuFanPlaced == true && ram1Placed == true) {
            $(".modelkit_RAM2").css("height", "auto").css('transform', 'translateY(0)');
            $("#drag_RAM2").css("height", 0);
            $('.nextStep').text('下一步');
            ram2Placed = true;
        } else if (cpuPlaced == true && cpuFanPlaced == true) {
            $(".modelkit_RAM1").css("height", "auto").css('transform', 'translateY(0)');
            $("#drag_RAM1").css("height", 0);
            $('.nextStep').text('下一步');
            ram1Placed = true;
        } else if (cpuPlaced == true) {
            $(".modelkit_CPUFAN").css("height", "auto").css('transform', 'translateY(0)');
            $("#drag_CPUFAN").css("height", 0);
            $('.nextStep').text('下一步');
            cpuFanPlaced = true;
        } else if (cpuPlaced == false) {
            $(".modelkit_CPU").css("height", "auto").css('transform', 'translateY(0)');
            $("#drag_CPU").css("height", 0);
            $("#drop_CPUFAN").css("height", "20vw");
            $('.nextStep').text('下一步');
            cpuPlaced = true;
        }
    });
    $(function () {
        $("#drag_CPU").draggable({
            scope: "CPU",
            revert: "invalid"
        })
        $("#drag_CPUFAN").draggable({
            scope: "CPUFAN",
            revert: "invalid"
        })
        $("#drag_Graphic_Card").draggable({
            scope: "Graphic_Card",
            revert: "invalid"
        })
        $("#drag_RAM1").draggable({
            scope: "RAM1",
            revert: "invalid"
        })
        $("#drag_RAM2").draggable({
            scope: "RAM2",
            revert: "invalid"
        })
        $("#drag_case_fan").draggable({
            revert: "invalid"
        })
        $("#drop_CPU").droppable({
            scope: "CPU",
            drop: function (event, ui) {
                $(".modelkit_CPU").css("height", "auto").css('transform', 'translateY(0)');
                $("#drag_CPU").css("height", 0);
                $("#drop_CPUFAN").css("height", "20vw");
                $('.nextStep').text('下一步');
                cpuPlaced = true;
            }
        })
        $("#drop_CPUFAN").droppable({
            scope: "CPUFAN",
            drop: function (event, ui) {
                $(".modelkit_CPUFAN").css("height", "auto").css('transform', 'translateY(0)');
                $("#drag_CPUFAN").css("height", 0);
                $('.nextStep').text('下一步');
                cpuFanPlaced = true;
                if (cpuPlaced == true && cpuFanPlaced == true && ram1Placed == true && ram2Placed == true && gpuPlaced == true) {
                    $('.part1').css("height", 0);
                    $('.mb').css('opacity', 0);
                    $('.case_bg').css('opacity', 1);
                }
            }
        })
        $("#drop_Graphic_Card").droppable({
            scope: "Graphic_Card",
            drop: function (event, ui) {
                $(".modelkit_Graphic_Card").css("height", "auto").css('transform', 'translateY(0)');
                $("#drag_Graphic_Card").css("height", 0);
                $('.nextStep').text('下一步');
                gpuPlaced = true;
                if (cpuPlaced == true && cpuFanPlaced == true && ram1Placed == true && ram2Placed == true && gpuPlaced == true) {
                    $('.part1').css("height", 0);
                    $('.mb').css('opacity', 0);
                    $('.case_bg').css('opacity', 1);
                }
            }
        })
        $("#drop_RAM1").droppable({
            scope: "RAM1",
            drop: function (event, ui) {
                $(".modelkit_RAM1").css("height", "auto").css('transform', 'translateY(0)');
                $("#drag_RAM1").css("height", 0);
                $('.nextStep').text('下一步');
                ram1Placed = true;
                if (cpuPlaced == true && cpuFanPlaced == true && ram1Placed == true && ram2Placed == true && gpuPlaced == true) {
                    $('.part1').css("height", 0);
                    $('.mb').css('opacity', 0);
                    $('.case_bg').css('opacity', 1);
                }
            }
        })
        $("#drop_RAM2").droppable({
            scope: "RAM2",
            drop: function (event, ui) {
                $(".modelkit_RAM2").css("height", "auto").css('transform', 'translateY(0)');
                $("#drag_RAM2").css("height", 0);
                $('.nextStep').text('下一步');
                ram2Placed = true;
                if (cpuPlaced == true && cpuFanPlaced == true && ram1Placed == true && ram2Placed == true && gpuPlaced == true) {
                    $('.part1').css("height", 0);
                    $('.mb').css('opacity', 0);
                    $('.case_bg').css('opacity', 1);
                }
            }
        })
    });
    screen.orientation.addEventListener('change', function () {
        console.log(screen.orientation.type); // e.g. portrait
    });
    // OR
    screen.orientation.onchange = function () {
        console.log(screen.orientation.type);
    };
</script>
<script type="text/javascript">
    var message_Path = 'live2d/'
</script>
<script type="text/javascript" src="live2d/js/live2d.js"></script>
<script type="text/javascript" src="live2d/js/message.js"></script>
<script type="text/javascript">
    loadlive2d("live2d", "live2d/model/model.json");
</script>
</body>
</html>
